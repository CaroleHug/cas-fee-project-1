<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Note Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.3/handlebars.min.js"
            integrity="sha256-/PJBs6QWvXijOFIX04kZpLb6ZtSQckdOIavLWKKOgXU=" crossorigin="anonymous" defer></script>
    <script src="scripts/index.js" type="module"></script>

    <link rel="stylesheet" href="styles/index.css">
</head>
<body>

<!--TODO: Refactor namings!!-->
<div class="left-right">
    <div>
        <button>Create new Note</button>
    </div>
    <div>
        <label for="mode"></label>
        <select name="mode" id="mode">
            <option value="darkMode">Dark Mode</option>
            <option value="whiteMode">Default Mode</option>
        </select>
    </div>
</div>

<div class="left-right">
    <div class="grid-container">
        <input type="radio" name="order">By finish Date</input>
        <input type="radio" name="order">By created Date</input>
        <input type="radio" name="order">By importance</input>
    </div>

    <div class="finished">
        <input type="radio" name="finished">Show finished </input>
    </div>
</div>

<div>
    <ul id="notes"></ul>
    <script src="./scripts/notesmodel.js"></script>
    <script>
        //DOM Refs
        const notesElement = document.querySelector('#notes');

        // Rendering
        function createNotesHtml(notes) {
            return notes.map(notes =>
                `<div>
                    <div class="notes-row">
                        <div>${notes.endDate !== '' ? notes.endDate : "Irgendwann"}</div>
                        <div>${notes.title}</div>
                    </div>
                    <div class="notes-row">
                        <div>
                            <input type="checkbox">${notes.finished ? 'Finished [' + notes.finishDate + ']' : 'Finished'}</input>
                        </div>
                        <div>${notes.description}</div>
                    </div>
             </div>`
            )
                .join('');
        }

        function renderNotes() {
            const notesHtml = createNotesHtml(notesSorted());
            notesElement.innerHTML = notesHtml;
        }

        renderNotes();
    </script>
</div>

</body>
</html>
