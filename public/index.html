<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Note Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.3/handlebars.min.js"
            integrity="sha256-/PJBs6QWvXijOFIX04kZpLb6ZtSQckdOIavLWKKOgXU=" crossorigin="anonymous" defer></script>
    <script src="scripts/index.js" type="module"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/index.css">
</head>
<body>

<!--TODO: Refactor namings!!-->
<div class="left-right">
    <div>
        <a href="./create.html">Create new Note</a>
    </div>
    <div>
        <label for="mode"></label>
        <select name="mode" id="mode">
            <option value="darkMode">Dark Mode</option>
            <option value="whiteMode">Default Mode</option>
        </select>
    </div>
</div>

<div class="left-right">
    <div class="grid-container">
        <input type="radio" name="order">By finish Date</input>
        <input type="radio" name="order">By created Date</input>
        <input type="radio" name="order">By importance</input>
    </div>

    <div class="finished">
        <input type="checkbox" name="finished">Show finished </input>
    </div>
</div>

<div>
    <div id="notes"></div>
    <script src="./scripts/notesmodel.js"></script>
    <script>
        //DOM Refs
        const notesElement = document.querySelector('#notes');


        // Rendering
        function createNotesHtml(notes) {
            return notes.map(notes =>
                `<div class="notes-details">
                        <div class="notes-details-end-date">${notes.endDate !== '' ? notes.endDate : "Irgendwann"}</div>
                        <div class="notes-details-title">${notes.title}</div>
                        <div class="notes-details-finished">
                            <input type="checkbox">${notes.finished ? 'Finished [' + notes.finishDate + ']' : 'Finished'}</input>
                        </div>
                        <div class="notes-details-description">${notes.description}</div>
                        <div class="notes-details-edit"><button>Edit</button></div>
             </div>`
            )
                .join('');
        }

        function renderNotes() {
            const notesHtml = createNotesHtml(notesSorted());
            notesElement.innerHTML = notesHtml;
        }

        renderNotes();
    </script>
</div>

</body>
</html>
